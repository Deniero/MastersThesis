\chapter{Introduction}
Automated driving has made considerable advancements in the last 15 years, yet significant technical challenges still persist~\cite{ayoub_manual_2019}.
Fully developed and integrated, it will have a lasting impact on mobility, road safety and society at large~\cite{milakis_policy_2017}.

Automated driving systems are considered safety-critical and need responsible and thorough testing in order to mitigate traffic accidents and human harm. As outlined by Klück~\cite{kluck_search-based_2022}, the main requirements of automated driving systems are that they "must operate under all circumstances" and, crucially, "must be safe". Self-driving systems have the potential for harm, as their failure may lead to catastrophic accidents. Errors can be difficult to detect, due to the complexity of the environment, in which automated driving systems operate. High quality testing is subsequently needed in order to ensure safety on the road. 

\begin{quote}
	\begin{em}
		\enquote{Thoroughly validating and verifying automated or autonomous driving functions is inevitable for assuring to meet quality criteria for safety-critical systems.}~\cite{felbinger_comparing_2019}
	\end{em}
\end{quote}

According to Kalra et al.~\cite{kalra_driving_2016}, achieving statistical safety for autonomous driving systems necessitates a significant number of miles driven. Accumulating this amount might not be feasible by driving solely in the real world. Klück \cite{kluck_search-based_2022} adds, that unguided mileage collection may provide only "limited quality assurance". During real world driving, the number of challenging situations is low, given most everyday situations can be driven without trouble.

Different complexity levels of driving automation are defined by the Society of Automotive Engineers~\cite{sae_international_sae_2021} with a level 5 system being required to perform the entire task of diving completely without a human driver. Lower levels take over only parts of the driving, such as parking and steering. Examples include driver support features such as Automatic Emergency Braking (AEB) or Automatic Lane Keep Systems (ALKS). Testing these lower levels is similarly vital.

Klück~\cite{kluck_search-based_2022} proposed search based testing (SBT) is a valuable method for improving the robustness and revealing systematic failures of automated driving systems. SBT generates inputs for a system under test in order to provoke some unwanted behaviour. It utilizes a problem-specific cost function that guides the search towards areas that have a high probability of failures. SBT can be applied to complex and large search spaces, where other, less focused, testing tools like full factorial or random testing might struggle.

Genetic algorithms (GAs) are a viable tool of search based testing and were already successfully utilized in the domain of automated driving, as evidenced by notable studies \cite{felbinger_comparing_2019, klampfl_using_nodate, kaufmann_critical_2021, almanee_scenorita_2021}. This master's thesis will employ a genetic algorithm in order to generate critical driving scenarios for testing self-driving technology in vehicles. The proposed approach differs from the mentioned studies in that the genetic algorithm has a significantly higher degree of control over generating the scenarios. It is able to set various actions for the vehicles in the simulation at any given timestep, which translates into a vast search space. 

While generating these scenarios is the objective, the main task of the thesis will evolve around the implementation of the genetic algorithm as well as the optimization of its hyperparameters. In the following chapters, the vehicle under test is refereed to as 'EGO' vehicle, while all other road users are denoted as 'NPCs'.

\section{Research Questions}
The following two research questions will provide a guideline for this master's thesis. Both questions evolve around examining and comparing the performance of a genetic algorithm on generating critical scenarios for autonomous vehicles. The specifics of the actual cost function are explained in Chapter \ref{chap:implementation}.

\subsection{Research Question 1}
\begin{quote}
	\begin{em}
		\textit{Is a genetic algorithm suitable for generating critical driving scenarios compared to random search?}
	\end{em}
\end{quote}

While the mentioned papers provide strong suggestions that a genetic algorithm has a significant advantages over random search, a direct comparison is still crucial. Are situations possible where a genetic algorithm struggles to find critical scenarios compared to a random search approach?

\subsection{Research Question 2}
\begin{quote}
	\begin{em}
		\textit{Can the performance of a genetic algorithm be improved by optimizing the control parameter using the Taguchi method?}
	\end{em}
\end{quote}

To tune the hyperparameter of the genetic algorithm, design of experiment, specifically the Taguchi method, was employed. In an effort to test, if significant performance improvements are possible, the optimized GA will be compared to a GA using control parameters as recommended by existing literature. This evaluation aims to understand, whether  the Taguchi method can indeed lead to notable performance advancements for genetic algorithms.


\section{Structure and Organization}
An summary on the employed tools is provided in Chapter \ref{chap:foundations}, where genetic algorithms and behaviour trees are both explained in detail. Chapter \ref{chap:implementation} will discuss the simulation environment, the actual implementation of the genetic algorithm and behaviour tree, and the setup of the experiment. 

The simulation environment comprises a custom-developed Traffic Manger, responsible for simulating traffic and providing a control interface for each actor. Through this interface, the genetic algorithm will search for critical situations by commanding all NPCs, while a behaviour tree will be specifically applied to the EGO vehicle. This separation is necessary to maintain an independent EGO vehicle that is not part of the search input. The behaviour tree will guide the EGO vehicle in a relatable manner through the simulation, executing lane changes in the case of obstacles blocking the path and making decisions on which turns to take at junctions. The use of the behaviour tree is only sensible for testing driving systems with autonomy levels lower than 5. If a level 5 system is applied and tested on the EGO vehicle, the behaviour tree would be disabled. The master's thesis will test an emergency brake function by optimizing the emergency brake duration of the EGO vehicle.

Chapter \ref{chap:hyperparameter_tuning} will concentrate on tuning the genetic algorithm by employing Design of Experiment, specifically the Taguchi method. Utilizing statistical tools like ANOVA (analysis of variance) and calculating main effects, the most performant hyperparameter setting is determined.

Two different hyperparameter settings for the genetic algorithm will be compared with random search in Chapter \ref{chap:evaluation}. This evaluation will be conducted using both a Welch's t-test and a comparison of effect sizes.

Finally, in Chapter \ref{chap:conclusion}, the two stated research questions will be answered, and an outlook on future work and possible improvements will be provided.






















