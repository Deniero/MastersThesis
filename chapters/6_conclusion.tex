\chapter{Conclusion}
After an introduction, this master's thesis begins by explaining the concept of both genetic algorithms and behavior trees in Chapter \ref{chap:foundations}. The subsequent Chapter \ref{chap:implementation} outlines the design and implementation of both tools. The stated search goal is within the domain of autonomous vehicle testing, specifically in generating critical traffic scenarios. To achieve this, the behavior tree aims to control the EGO vehicle in a realistic manner while the genetic algorithm maximises the cumulated emergency stop duration by commanding all NPCs in the scenario. 

In Chapter \ref{chap:hyperparameter_tuning}, the thesis successfully optimized control parameters of a genetic algorithm through literature research and subsequent comparison testing in order to find a suitable population size. Utilizing a Taguchi orthogonal array, the remaining hyperparameter were selected and evaluated for their significance. Finally, in Chapter \ref{chap:evaluation}, the genetic algorithms were evaluated. The results showed that the optimized settings for a GA provide significant improvements in most start scenarios compared to general settings from existing literature as well as compared to random search. Only in the case of a small number of NPCs, the performance seemed to be on par with a genetic algorithm utilizing settings from the literature.

\section{Research Questions}
\subsection{Research Question 1}
\begin{quote}
	\begin{em}
		\textit{Is a genetic algorithm suitable for generating critical driving scenarios compared to random search?}
	\end{em}
\end{quote}

Compared to random search, research question 1 definitely holds true. The optimized genetic algorithm will drastically improve performance when using the given cost function. In all four analysed starting scenarios, random search resulted in significantly worse results. There were no cases where a random search surpassed the mean result of the optimized genetic algorithm runs.

\subsection{Research Question 2}
\begin{quote}
	\begin{em}
		\textit{Can the performance of a genetic algorithm be improved by optimizing the control parameter using the Taguchi method?}
	\end{em}
\end{quote}

Addressing the second research question, the answer is affirmative. The genetic algorithm optimized utilizing the Taguchi method showed significant improvements in three out of the four start scenarios compared to using control parameters suggested by the literature. The only exception occurred in a start scenario with a small number of NPCs, where the difference was not statistically significant. It can be concluded, that Taguchi orthogonal testing, which only needs a minimal amount of experiment runs, can lead to impressive performance improvements when it comes to optimizing the control parameter of a genetic algorithm.

\section{Outlook and Future Work}
Significant improvements to the genetic algorithm as well as to the Traffic Manger are possible. Two main paths seem to provide valuable enhancements.

\subsection{Additional Actions}
While the provided actions by the Action Interface (see Section \ref{sect:implementation:action_interface}) already produce a vast search space, introducing additional actions might improve variation in the results and provide even more complex critical traffic scenarios. Examples for new actions include applying a lane offset, ignoring red traffic lights or simulating a blown tire. Implementing these actions will, in some cases, require only minimal effort and will allow a genetic algorithm to explore even more complex action sequences in its search.

\subsection{Oracle Functions}
The utilization of oracle functions to select interesting scenarios during the runtime of a genetic algorithm was already done by Almanee et al.~\cite{almanee_scenorita_2021}. Multiple oracle functions can be designed to test for different thresholds. For instance, one oracle function might assess, if the ego vehicle has exceeded the speed limit, a different function checks for crashes where the ego vehicle is at fault. Additional ideas include an oracle that evaluates if the comfort level of the passenger falls below a certain threshold. These functions will test each individual in the population. In case one or multiple functions return true, the individual scenario will be saved and automatically categorized according to the types of thresholds. The genetic algorithm however remains unaffected.

Oracle functions have the potential to extract multiple different scenarios from only one genetic algorithm run. The automatic categorization can drastically improve the usefulness of this testing approach. Otherwise each search result needs to be evaluated manually for identifying errors in the autonomous driving system.
